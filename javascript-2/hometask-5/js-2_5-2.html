<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="robots" content="noindex, nofollow">
    <meta name="author" content="Alexander Shatalov">
    <title>Alexander Shatalov > JavaScript 2 > Lesson 5 > Exercise 3</title>

    <style>
        #comments__wrapper, #comments__buttons, .comments {
            text-align: center;
            width: 80%;
            margin: 0 auto;
        }
    </style>

    <script src="http://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
    <script src="js-2_5-2_container.js"></script>
    <script src="js-2_5-2_comments.js"></script>

    <script>
    $(document).ready(function() {
        var comments = new Comments();
        comments.render('#comments__wrapper');

        // Добавить
        $('.comments-add').on('click', function() {
            var idComment = parseInt($(this).attr('id').split('_')[1]);
            var text = $(this).parent().parent().find('.comments-text').text();
            comments.add(idComment, text);
        });

        // Удалить
        $('.comments-delete').on('click', function() {
            var idComment = parseInt($(this).attr('id').split('_')[1]);
            var text = $(this).parent().parent().find('.comments-text').text();
            comments.del(idComment, text);
        });

        // Одобрить
        $('.comments-submit').on('click', function() {
            var idComment = parseInt($(this).attr('id').split('_')[1]);
            var text = $(this).parent().parent().find('.comments-text').text();
            comments.submit(idComment, text);
        });

        // Показать
        $('.comments-list').on('click', function() {
            comments.list();
        });

    });
    </script>
</head>

<body>
    <div id="comments__wrapper">
        <!-- Шапка -->
    </div>
    <div class="comments">
        <p>Отзыв №123</p>
        <p>Текст: <span class="comments-text">Текст отзыва</span></p>
    </div>
    <div id="comments__buttons">
        <button class="comments-add" id="comments-add_123">Добавить отзыв</button>
        <button class="comments-delete" id="comments-delete_123">Удалить отзыв</button>
        <button class="comments-submit" id="comments-submit_123">Одобрить отзыв</button>
        <button class="comments-list" id="comments-list_123">Показать все отзывы</button>
    </div>
</body>

</html>